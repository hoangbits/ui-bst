<div class="modal-header">
    <h4 class="modal-title pull-left">{{title}}</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body">
    <div class="nav-tabs-custom">
        <ul class="nav nav-tabs">
            <li class="active"><a href="#tab_1" data-toggle="tab" aria-expanded="true">Company information</a></li>
            <li class=""><a href="#tab_2" data-toggle="tab" aria-expanded="false">User information</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" id="tab_1">
                <input type="hidden" [(ngModel)]="company.id" [formControl]="hdCompany">
                <b>General:</b>
                <table class="tbl-info">
                    <tr>
                        <td class="td-head">Company name:</td>
                        <td style="text-transform: uppercase">{{company.companyName}}</td>
                    </tr>
                    <tr>
                        <td class="td-head">Address:</td>
                        <td>{{company.address}}</td>
                    </tr>
                    <tr>
                        <td class="td-head">Tax code:</td>
                        <td>{{company.taxCode}}</td>
                    </tr>
                    <tr>
                        <td class="td-head">Phone number:</td>
                        <td>{{company.phone}}</td>
                    </tr>
                    <tr>
                        <td class="td-head">Fax:</td>
                        <td>{{company.fax}}</td>
                    </tr>
                </table>
            </div>
            <!-- /.tab-pane -->
            <div class="tab-pane" id="tab_2">
                <p *ngIf="users?.length == 0" style="text-align: center; font-size:18px; margin:30px 0;">No data found.</p>
                <div class="row" *ngIf="users?.length > 0">
                    <div class="col-md-8 col-md-offset-2">
                        <table style="margin: 20px 0">
                            <tr>
                                <td width="100%"><input type="text" class="form-control"
                                                        placeholder="Search user"
                                                        [(ngModel)]="searchText" id="txtSearch"
                                                        style="width:100%" autofocus
                                                        (keyup.enter)="search()"></td>
                                <td>
                                    <button type="submit" class="btn btn-flat btn-primary" id="btnSearch"
                                            (click)="search()"><i
                                            class="fa fa-search" aria-hidden="true"
                                            style="margin-right: 6px"></i>Search
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <table class="table table-bordered table-striped" [mfData]="users" #mf="mfDataTable" *ngIf="users?.length > 0">
                    <thead>
                    <tr>
                        <th style="width: 10px">No</th>
                        <th>
                            <mfDefaultSorter by="email">Email</mfDefaultSorter>
                        </th>
                        <th>
                            <mfDefaultSorter by="fullName">Full name</mfDefaultSorter>
                        </th>
                        <th>
                            <mfDefaultSorter by="role">Role</mfDefaultSorter>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let user of mf.data; let i = index">
                        <td>{{indexPage+i+1}}.</td>
                        <td>{{user.email}}</td>
                        <td>{{user.fullName}}</td>
                        <td>{{user.role}}</td>
                    </tr>
                    </tbody>
                    <tfoot>
                    <tr>
                        <td colspan="4">
                            <pagination style="float:right;"
                                        [totalItems]="totalItems"
                                        (ngModel)="currentPage"
                                        [itemsPerPage]="itemsPerPage"
                                        class="pagination-sm"
                                        [maxSize]="5"
                                        [boundaryLinks]="true"
                                        [rotate]="false"
                                        (pageChanged)="pageChanged($event)"></pagination>
                        </td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" (click)="bsModalRef.hide()" id="btnCancel">Cancel</button>
</div>
